{"version":3,"sources":["webpack://NFBWebPlayer/./node_modules/videojs-hls-quality-selector/dist/videojs-hls-quality-selector.es.js"],"names":["_typeof","Symbol","iterator","obj","constructor","prototype","classCallCheck","AwaitValue","value","this","AsyncGenerator","gen","front","back","resume","key","arg","result","Promise","resolve","then","settle","done","err","type","reject","next","_invoke","request","return","undefined","asyncIterator","throw","instance","Constructor","TypeError","inherits","subClass","superClass","Object","create","enumerable","writable","configurable","setPrototypeOf","__proto__","possibleConstructorReturn","self","call","ReferenceError","VideoJsButtonClass","VideoJsMenuClass","VideoJsComponent","Dom","ConcreteButton","_VideoJsButtonClass","player","title","localize","name","createItems","createMenu","string","menu","player_","menuButton","hideThreshold_","options_","titleEl","createEl","className","innerHTML","charAt","toUpperCase","slice","tabIndex","titleComponent","el","addItem","items","i","length","ConcreteMenuItem","_VideoJsMenuItemClass","item","qualityButton","plugin","_this","label","selectable","selected","handleClick","setQuality","defaults","registerPlugin","HlsQualitySelectorPlugin","options","config","qualityLevels","getHls","createQualityButton","bindPlayerEvents","tech","IWillNotUseThisInPlugins","hls","on","onAddQualityLevel","bind","_qualityButton","placementIndex","controlBar","children","concreteButtonInstance","addChild","componentClass","addClass","displayCurrentQuality","setButtonInnerText","icon","vjsIconClass","menuButton_","$","removeClass","text","getQualityMenuItem","levels","levels_","levelItems","_loop","filter","_existingItem","height","levelItem","push","sort","current","update","qualityList","_currentQuality","quality","enabled","unpressButton","getCurrentQuality","hlsQualitySelector","_this2","ready","onPlayerReady","VERSION"],"mappings":"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","file":"videojs-hls-quality-selector.e6dd6bb5fbd79770ca7a.js","sourcesContent":["import videojs from 'video.js';\n\nvar version = \"1.1.4\";\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n  return typeof obj;\n} : function (obj) {\n  return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n};\n\n\n\n\n\nvar asyncGenerator = function () {\n  function AwaitValue(value) {\n    this.value = value;\n  }\n\n  function AsyncGenerator(gen) {\n    var front, back;\n\n    function send(key, arg) {\n      return new Promise(function (resolve, reject) {\n        var request = {\n          key: key,\n          arg: arg,\n          resolve: resolve,\n          reject: reject,\n          next: null\n        };\n\n        if (back) {\n          back = back.next = request;\n        } else {\n          front = back = request;\n          resume(key, arg);\n        }\n      });\n    }\n\n    function resume(key, arg) {\n      try {\n        var result = gen[key](arg);\n        var value = result.value;\n\n        if (value instanceof AwaitValue) {\n          Promise.resolve(value.value).then(function (arg) {\n            resume(\"next\", arg);\n          }, function (arg) {\n            resume(\"throw\", arg);\n          });\n        } else {\n          settle(result.done ? \"return\" : \"normal\", result.value);\n        }\n      } catch (err) {\n        settle(\"throw\", err);\n      }\n    }\n\n    function settle(type, value) {\n      switch (type) {\n        case \"return\":\n          front.resolve({\n            value: value,\n            done: true\n          });\n          break;\n\n        case \"throw\":\n          front.reject(value);\n          break;\n\n        default:\n          front.resolve({\n            value: value,\n            done: false\n          });\n          break;\n      }\n\n      front = front.next;\n\n      if (front) {\n        resume(front.key, front.arg);\n      } else {\n        back = null;\n      }\n    }\n\n    this._invoke = send;\n\n    if (typeof gen.return !== \"function\") {\n      this.return = undefined;\n    }\n  }\n\n  if (typeof Symbol === \"function\" && Symbol.asyncIterator) {\n    AsyncGenerator.prototype[Symbol.asyncIterator] = function () {\n      return this;\n    };\n  }\n\n  AsyncGenerator.prototype.next = function (arg) {\n    return this._invoke(\"next\", arg);\n  };\n\n  AsyncGenerator.prototype.throw = function (arg) {\n    return this._invoke(\"throw\", arg);\n  };\n\n  AsyncGenerator.prototype.return = function (arg) {\n    return this._invoke(\"return\", arg);\n  };\n\n  return {\n    wrap: function (fn) {\n      return function () {\n        return new AsyncGenerator(fn.apply(this, arguments));\n      };\n    },\n    await: function (value) {\n      return new AwaitValue(value);\n    }\n  };\n}();\n\n\n\n\n\nvar classCallCheck = function (instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};\n\n\n\n\n\n\n\n\n\n\n\nvar inherits = function (subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n};\n\n\n\n\n\n\n\n\n\n\n\nvar possibleConstructorReturn = function (self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n};\n\nvar VideoJsButtonClass = videojs.getComponent('MenuButton');\nvar VideoJsMenuClass = videojs.getComponent('Menu');\nvar VideoJsComponent = videojs.getComponent('Component');\nvar Dom = videojs.dom;\n\n/**\n * Convert string to title case.\n *\n * @param {string} string - the string to convert\n * @return {string} the returned titlecase string\n */\nfunction toTitleCase(string) {\n  if (typeof string !== 'string') {\n    return string;\n  }\n\n  return string.charAt(0).toUpperCase() + string.slice(1);\n}\n\n/**\n * Extend vjs button class for quality button.\n */\n\nvar ConcreteButton = function (_VideoJsButtonClass) {\n  inherits(ConcreteButton, _VideoJsButtonClass);\n\n  /**\n   * Button constructor.\n   *\n   * @param {Player} player - videojs player instance\n   */\n  function ConcreteButton(player) {\n    classCallCheck(this, ConcreteButton);\n    return possibleConstructorReturn(this, _VideoJsButtonClass.call(this, player, {\n      title: player.localize('Quality'),\n      name: 'QualityButton'\n    }));\n  }\n\n  /**\n   * Creates button items.\n   *\n   * @return {Array} - Button items\n   */\n\n\n  ConcreteButton.prototype.createItems = function createItems() {\n    return [];\n  };\n\n  /**\n   * Create the menu and add all items to it.\n   *\n   * @return {Menu}\n   *         The constructed menu\n   */\n\n\n  ConcreteButton.prototype.createMenu = function createMenu() {\n    var menu = new VideoJsMenuClass(this.player_, { menuButton: this });\n\n    this.hideThreshold_ = 0;\n\n    // Add a title list item to the top\n    if (this.options_.title) {\n      var titleEl = Dom.createEl('li', {\n        className: 'vjs-menu-title',\n        innerHTML: toTitleCase(this.options_.title),\n        tabIndex: -1\n      });\n      var titleComponent = new VideoJsComponent(this.player_, { el: titleEl });\n\n      this.hideThreshold_ += 1;\n\n      menu.addItem(titleComponent);\n    }\n\n    this.items = this.createItems();\n\n    if (this.items) {\n      // Add menu items to the menu\n      for (var i = 0; i < this.items.length; i++) {\n        menu.addItem(this.items[i]);\n      }\n    }\n\n    return menu;\n  };\n\n  return ConcreteButton;\n}(VideoJsButtonClass);\n\n// Concrete classes\nvar VideoJsMenuItemClass = videojs.getComponent('MenuItem');\n\n/**\n * Extend vjs menu item class.\n */\n\nvar ConcreteMenuItem = function (_VideoJsMenuItemClass) {\n  inherits(ConcreteMenuItem, _VideoJsMenuItemClass);\n\n  /**\n   * Menu item constructor.\n   *\n   * @param {Player} player - vjs player\n   * @param {Object} item - Item object\n   * @param {ConcreteButton} qualityButton - The containing button.\n   * @param {HlsQualitySelectorPlugin} plugin - This plugin instance.\n   */\n  function ConcreteMenuItem(player, item, qualityButton, plugin) {\n    classCallCheck(this, ConcreteMenuItem);\n\n    var _this = possibleConstructorReturn(this, _VideoJsMenuItemClass.call(this, player, {\n      label: item.label,\n      selectable: true,\n      selected: item.selected || false\n    }));\n\n    _this.item = item;\n    _this.qualityButton = qualityButton;\n    _this.plugin = plugin;\n    return _this;\n  }\n\n  /**\n   * Click event for menu item.\n   */\n\n\n  ConcreteMenuItem.prototype.handleClick = function handleClick() {\n\n    // Reset other menu items selected status.\n    for (var i = 0; i < this.qualityButton.items.length; ++i) {\n      this.qualityButton.items[i].selected(false);\n    }\n\n    // Set this menu item to selected, and set quality.\n    this.plugin.setQuality(this.item.value);\n    this.selected(true);\n  };\n\n  return ConcreteMenuItem;\n}(VideoJsMenuItemClass);\n\n// Default options for the plugin.\nvar defaults = {};\n\n// Cross-compatibility for Video.js 5 and 6.\nvar registerPlugin = videojs.registerPlugin || videojs.plugin;\n// const dom = videojs.dom || videojs;\n\n/**\n * VideoJS HLS Quality Selector Plugin class.\n */\n\nvar HlsQualitySelectorPlugin = function () {\n\n  /**\n   * Plugin Constructor.\n   *\n   * @param {Player} player - The videojs player instance.\n   * @param {Object} options - The plugin options.\n   */\n  function HlsQualitySelectorPlugin(player, options) {\n    classCallCheck(this, HlsQualitySelectorPlugin);\n\n    this.player = player;\n    this.config = options;\n\n    // If there is quality levels plugin and the HLS tech exists\n    // then continue.\n    if (this.player.qualityLevels && this.getHls()) {\n      // Create the quality button.\n      this.createQualityButton();\n      this.bindPlayerEvents();\n    }\n  }\n\n  /**\n   * Returns HLS Plugin\n   *\n   * @return {*} - videojs-hls-contrib plugin.\n   */\n\n\n  HlsQualitySelectorPlugin.prototype.getHls = function getHls() {\n    return this.player.tech({ IWillNotUseThisInPlugins: true }).hls;\n  };\n\n  /**\n   * Binds listener for quality level changes.\n   */\n\n\n  HlsQualitySelectorPlugin.prototype.bindPlayerEvents = function bindPlayerEvents() {\n    this.player.qualityLevels().on('addqualitylevel', this.onAddQualityLevel.bind(this));\n  };\n\n  /**\n   * Adds the quality menu button to the player control bar.\n   */\n\n\n  HlsQualitySelectorPlugin.prototype.createQualityButton = function createQualityButton() {\n\n    var player = this.player;\n\n    this._qualityButton = new ConcreteButton(player);\n\n    var placementIndex = player.controlBar.children().length - 2;\n    var concreteButtonInstance = player.controlBar.addChild(this._qualityButton, { componentClass: 'qualitySelector' }, this.config.placementIndex || placementIndex);\n\n    concreteButtonInstance.addClass('vjs-quality-selector');\n    if (!this.config.displayCurrentQuality) {\n      var icon = ' ' + (this.config.vjsIconClass || 'vjs-icon-hd');\n\n      concreteButtonInstance.menuButton_.$('.vjs-icon-placeholder').className += icon;\n    } else {\n      this.setButtonInnerText('auto');\n    }\n    concreteButtonInstance.removeClass('vjs-hidden');\n  };\n\n  /**\n   *Set inner button text.\n   *\n   * @param {string} text - the text to display in the button.\n   */\n\n\n  HlsQualitySelectorPlugin.prototype.setButtonInnerText = function setButtonInnerText(text) {\n    this._qualityButton.menuButton_.$('.vjs-icon-placeholder').innerHTML = text;\n  };\n\n  /**\n   * Builds individual quality menu items.\n   *\n   * @param {Object} item - Individual quality menu item.\n   * @return {ConcreteMenuItem} - Menu item\n   */\n\n\n  HlsQualitySelectorPlugin.prototype.getQualityMenuItem = function getQualityMenuItem(item) {\n    var player = this.player;\n\n    return new ConcreteMenuItem(player, item, this._qualityButton, this);\n  };\n\n  /**\n   * Executed when a quality level is added from HLS playlist.\n   */\n\n\n  HlsQualitySelectorPlugin.prototype.onAddQualityLevel = function onAddQualityLevel() {\n    var _this = this;\n\n    var player = this.player;\n    var qualityList = player.qualityLevels();\n    var levels = qualityList.levels_ || [];\n    var levelItems = [];\n\n    var _loop = function _loop(i) {\n      if (!levelItems.filter(function (_existingItem) {\n        return _existingItem.item && _existingItem.item.value === levels[i].height;\n      }).length) {\n        var levelItem = _this.getQualityMenuItem.call(_this, {\n          label: levels[i].height + 'p',\n          value: levels[i].height\n        });\n\n        levelItems.push(levelItem);\n      }\n    };\n\n    for (var i = 0; i < levels.length; ++i) {\n      _loop(i);\n    }\n\n    levelItems.sort(function (current, next) {\n      if ((typeof current === 'undefined' ? 'undefined' : _typeof(current)) !== 'object' || (typeof next === 'undefined' ? 'undefined' : _typeof(next)) !== 'object') {\n        return -1;\n      }\n      if (current.item.value < next.item.value) {\n        return -1;\n      }\n      if (current.item.value > next.item.value) {\n        return 1;\n      }\n      return 0;\n    });\n\n    levelItems.push(this.getQualityMenuItem.call(this, {\n      label: player.localize('Auto'),\n      value: 'auto',\n      selected: true\n    }));\n\n    if (this._qualityButton) {\n      this._qualityButton.createItems = function () {\n        return levelItems;\n      };\n      this._qualityButton.update();\n    }\n  };\n\n  /**\n   * Sets quality (based on media height)\n   *\n   * @param {number} height - A number representing HLS playlist.\n   */\n\n\n  HlsQualitySelectorPlugin.prototype.setQuality = function setQuality(height) {\n    var qualityList = this.player.qualityLevels();\n\n    // Set quality on plugin\n    this._currentQuality = height;\n\n    if (this.config.displayCurrentQuality) {\n      this.setButtonInnerText(height === 'auto' ? height : height + 'p');\n    }\n\n    for (var i = 0; i < qualityList.length; ++i) {\n      var quality = qualityList[i];\n\n      quality.enabled = quality.height === height || height === 'auto';\n    }\n    this._qualityButton.unpressButton();\n  };\n\n  /**\n   * Return the current set quality or 'auto'\n   *\n   * @return {string} the currently set quality\n   */\n\n\n  HlsQualitySelectorPlugin.prototype.getCurrentQuality = function getCurrentQuality() {\n    return this._currentQuality || 'auto';\n  };\n\n  return HlsQualitySelectorPlugin;\n}();\n\n/**\n * Function to invoke when the player is ready.\n *\n * This is a great place for your plugin to initialize itself. When this\n * function is called, the player will have its DOM and child components\n * in place.\n *\n * @function onPlayerReady\n * @param    {Player} player\n *           A Video.js player object.\n *\n * @param    {Object} [options={}]\n *           A plain object containing options for the plugin.\n */\n\n\nvar onPlayerReady = function onPlayerReady(player, options) {\n  player.addClass('vjs-hls-quality-selector');\n  player.hlsQualitySelector = new HlsQualitySelectorPlugin(player, options);\n};\n\n/**\n * A video.js plugin.\n *\n * In the plugin function, the value of `this` is a video.js `Player`\n * instance. You cannot rely on the player being in a \"ready\" state here,\n * depending on how the plugin is invoked. This may or may not be important\n * to you; if not, remove the wait for \"ready\"!\n *\n * @function hlsQualitySelector\n * @param    {Object} [options={}]\n *           An object of options left to the plugin author to define.\n */\nvar hlsQualitySelector = function hlsQualitySelector(options) {\n  var _this2 = this;\n\n  this.ready(function () {\n    onPlayerReady(_this2, videojs.mergeOptions(defaults, options));\n  });\n};\n\n// Register the plugin with video.js.\nregisterPlugin('hlsQualitySelector', hlsQualitySelector);\n\n// Include the version number.\nhlsQualitySelector.VERSION = version;\n\nexport default hlsQualitySelector;\n"],"sourceRoot":""}