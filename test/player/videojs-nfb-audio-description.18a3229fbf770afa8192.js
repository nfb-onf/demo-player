(self.webpackChunkNFBWebPlayer=self.webpackChunkNFBWebPlayer||[]).push([[180],{6567:(t,e,i)=>{"use strict";i.r(e),i.d(e,{default:()=>y});var n=i(6610),o=i(5991),l=i(3349),r=i(379),s=i(6070),u=i(7608),a=i(6507),c=i(4648);function h(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n=(0,u.Z)(t);if(e){var o=(0,u.Z)(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return(0,s.Z)(this,i)}}var p=a.default.getPlugin("plugin"),d={source:null,dvSource:null,vhs:{withCredentials:!1}},f=function(t){(0,r.Z)(i,t);var e=h(i);function i(t,o){var r;return(0,n.Z)(this,i),(r=e.call(this,t)).log.level(a.default.log.level()),r.options=a.default.mergeOptions(d,o),r.button=null,r.toggleSource=r.toggleSource.bind((0,l.Z)(r)),r.dvPlaying=!1,r.player.ready((function(){r.init()})),r}return(0,o.Z)(i,[{key:"init",value:function(){this.log("Initializing NFB Audio Description plugin"),this.addButton()}},{key:"addButton",value:function(){this.button=this.player.controlBar.addChild("button"),this.button.addClass("vjs-audio-description-button"),this.button.controlText(this.button.localize("Audio Description")),this.button.on("click",this.toggleSource),this.button.on("tap",this.toggleSource)}},{key:"toggleSource",value:function(){var t=this;this.log("Toggle source"),this.dvPlaying=!this.dvPlaying;var e=this.player.currentTime(),i=this.player.paused(),n=this.dvPlaying?this.options.dvSource:this.options.source;this.dvPlaying?this.button.addClass("dv-playing"):this.button.removeClass("dv-playing"),this.player.one("loadedmetadata",(function(){t.player.play(),i&&t.player.pause(),t.player.currentTime(e),setTimeout((function(){t.player.poster(o)}),500)}));var o=this.player.poster();switch(this.player.poster(null),(0,c.x)(n)){case"mp4":this.player.src(n);break;case"hls":this.player.src({src:n,type:"application/x-mpegURL",withCredentials:this.options.vhs.withCredentials})}}}]),i}(p);f.defaultState={},f.VERSION="1.0.0",a.default.registerPlugin("nfbAudioDescription",f);const y=f}}]);
//# sourceMappingURL=videojs-nfb-audio-description.18a3229fbf770afa8192.js.map